<div class="signup-container">
  <div class="signup-wrapper">
    <h1 class="signup-title">회원가입</h1>
    
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
      <div class="form-field">
        <input 
          type="text" 
          formControlName="name" 
          placeholder="이름을 입력해주세요"
          class="form-input"
          [class.error]="signupForm.get('name')?.invalid && signupForm.get('name')?.dirty && signupForm.get('name')?.value">
        <span class="error-message" *ngIf="getErrorMessage('name')">
          {{ getErrorMessage('name') }}
        </span>
      </div>
      
      <div class="form-field">
        <div class="email-input-wrapper">
          <input 
            type="text" 
            formControlName="email" 
            placeholder="아이디를 입력해주세요"
            class="form-input email-input"
            [class.error]="signupForm.get('email')?.invalid && signupForm.get('email')?.dirty && signupForm.get('email')?.value">
          <button 
            type="button"
            class="btn-check-email"
            (click)="checkEmailDuplicate()"
            [disabled]="checkingEmail || !signupForm.get('email')?.value || signupForm.get('email')?.invalid">
            {{ checkingEmail ? '확인 중...' : '중복확인' }}
          </button>
        </div>
        <span class="error-message" *ngIf="getErrorMessage('email')">
          {{ getErrorMessage('email') }}
        </span>
        <span class="email-check-message" 
              *ngIf="emailChecked"
              [class.success]="emailAvailable"
              [class.error]="!emailAvailable">
          {{ emailCheckMessage }}
        </span>
      </div>
      
      <div class="form-field">
        <div class="password-input-wrapper">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            formControlName="password" 
            placeholder="비밀번호를 입력해주세요"
            class="form-input password-input"
            [class.error]="signupForm.get('password')?.invalid && signupForm.get('password')?.dirty && signupForm.get('password')?.value">
          <button 
            type="button"
            class="btn-toggle-password"
            (click)="togglePasswordVisibility()"
            tabindex="-1">
            <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <span class="error-message" *ngIf="getErrorMessage('password')">
          {{ getErrorMessage('password') }}
        </span>
      </div>
      
      <div class="form-field">
        <div class="password-input-wrapper">
          <input 
            [type]="showConfirmPassword ? 'text' : 'password'" 
            formControlName="confirmPassword" 
            placeholder="비밀번호를 다시 입력해주세요"
            class="form-input password-input"
            [class.error]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.dirty && signupForm.get('confirmPassword')?.value">
          <button 
            type="button"
            class="btn-toggle-password"
            (click)="toggleConfirmPasswordVisibility()"
            tabindex="-1">
            <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <span class="error-message" *ngIf="getErrorMessage('confirmPassword')">
          {{ getErrorMessage('confirmPassword') }}
        </span>
      </div>
      
      <div class="form-field">
        <input 
          type="number" 
          formControlName="age" 
          placeholder="나이를 입력해주세요"
          min="1"
          class="form-input"
          [class.error]="signupForm.get('age')?.invalid && signupForm.get('age')?.dirty && signupForm.get('age')?.value">
        <span class="error-message" *ngIf="getErrorMessage('age')">
          {{ getErrorMessage('age') }}
        </span>
      </div>
      
      <div class="form-options">
        <div class="links">
          <a href="#" class="link">아이디 찾기</a>
          <span class="separator">|</span>
          <a href="#" class="link">비밀번호 찾기</a>
        </div>
      </div>
      
      <button 
        type="submit" 
        class="btn-primary"
        [disabled]="signupForm.invalid || loading">
        {{ loading ? '가입 중...' : '회원가입' }}
      </button>
      
      <button 
        type="button" 
        class="btn-secondary"
        routerLink="/auth/login">
        로그인
      </button>
    </form>
  </div>
</div>
